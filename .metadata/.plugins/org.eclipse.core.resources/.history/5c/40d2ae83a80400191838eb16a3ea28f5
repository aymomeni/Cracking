package chapter3;

import java.util.Date;
import java.util.LinkedList;
import chapter3.Animal;


public class AnimalShelter {

	LinkedList<Cat> catList = null;
	LinkedList<Dog> dogList = null;
	
	public AnimalShelter(){
		catList = new LinkedList<Cat>();
		dogList = new LinkedList<Dog>();
	}
	
	public Animal dequeueAny(){
		
		if(!dogList.isEmpty() && !catList.isEmpty()){
			Date dogDate = dogList.getFirst().getDate();
			Date catDate = catList.getFirst().getDate();
			
			if(dogDate.before(catDate)){
				return dogList.removeFirst();
			} else{
				return catList.removeFirst();
			}
		} else if(!catList.isEmpty()){
			return catList.removeFirst();
		} else if(!dogList.isEmpty()){
			return dogList.removeFirst();
		}
		
		return null; // if both lists are empty
	}
	
	public Dog dequeueDog(){
		return dogList.isEmpty()? null : dogList.removeFirst();
	}
	
	public Cat dequeueCat(){
		return catList.isEmpty()? null : catList.removeFirst();
	}
	
	public void enqueue(Animal animal){
		if(animal instanceof Cat){
			Cat c = (Cat)animal;
			c.setDate();
			catList.addLast(c);
		} else if(animal instanceof Dog){
			Dog d = (Dog)animal;
			dogList.addLast(d);
		} else{
			System.err.println("Incorrect animal for shelter");
		}
	}
	
}

